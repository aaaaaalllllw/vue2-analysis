{"version":3,"file":"vue.js","sources":["../src/complier/index.js","../src/util.js","../src/observe/array.js","../src/observe/index.js","../src/state.js","../src/init.js","../src/index.js"],"sourcesContent":["// 以下为vue源码的正则\r\nconst ncname = `[a-zA-Z_][\\\\-\\\\.0-9_a-zA-Z]*`; //匹配标签名；形如 abc-123\r\nconst qnameCapture = `((?:${ncname}\\\\:)?${ncname})`; //匹配特殊标签;形如 abc:234,前面的abc:可有可无；获取标签名；\r\nconst startTagOpen = new RegExp(`^<${qnameCapture}`); // 匹配标签开头；形如  <  ；捕获里面的标签名\r\nconst startTagClose = /^\\s*(\\/?)>/; // 匹配标签结尾，形如 >、/>\r\nconst endTag = new RegExp(`^<\\\\/${qnameCapture}[^>]*>`); // 匹配结束标签 如 </abc-123> 捕获里面的标签名\r\nconst attribute =\r\n  /^\\s*([^\\s\"'<>\\/=]+)(?:\\s*(=)\\s*(?:\"([^\"]*)\"+|'([^']*)'+|([^\\s\"'=<>`]+)))?/; // 匹配属性  形如 id=\"app\"\r\nfunction start(tagName, attributes) {}\r\nfunction end(tagName) {}\r\nfunction chars(text) {}\r\nfunction parserHTML(html) {\r\n  //<div id=\"app\">1123</div>\r\n  //解析多少，抛弃多少\r\n  function advance(len) {\r\n    html = html.substring(len);\r\n  }\r\n  function parseStartTag() {\r\n    //1.标签\r\n    const start = html.match(startTagOpen);\r\n    // console.log(start);\r\n    if (start) {\r\n      const match = {\r\n        tagName: start[1],\r\n        attrs: [],\r\n      };\r\n      advance(start[0].length);\r\n      console.log(html);\r\n      let end;\r\n      //如果美哟遇到标签结束就不停地解析\r\n      let attr;\r\n      // 如果标签没有闭合\r\n      while (\r\n        !(end = html.match(startTagClose)) &&\r\n        (attr = html.match(attribute))\r\n      ) {\r\n        // [' id=\"app\"', 'id', '=', 'app', undefined, undefined, index: 0, input: ' id=\"app\">{{name}}</div>', groups: undefined]\r\n        //2.属性,添加属性\r\n        console.log(attr);\r\n        match.attrs.push({\r\n          name: attr[1],\r\n          value: attr[3] || attr[4] || attr[5],\r\n        });\r\n        console.log(match);\r\n        advance(attr[0].length);\r\n      }\r\n      if (end) {\r\n        advance(end[0].length);\r\n      }\r\n      return match;\r\n    }\r\n\r\n    return false; //不是开始标签\r\n  }\r\n\r\n  while (html) {\r\n    //看要解析的内容是否存在，如果存在就不停地解析\r\n    let textEnd = html.indexOf(\"<\"); //当前解析的开头\r\n    if (textEnd == 0) {\r\n      const startTagMatch = parseStartTag(html); //解析开始标签\r\n      if (startTagMatch) {\r\n        start(startTagMatch.tagName, startTagMatch.attrs);\r\n        continue;\r\n      }\r\n      const endTagMatch = html.match(endTag);\r\n      if (endTagMatch) {\r\n        end(endTagMatch(1));\r\n        advance(endTagMatch[0].length);\r\n      }\r\n    }\r\n\r\n    let text; //1233</div>\r\n    if (textEnd > 0) {\r\n      text = html.substring(0, textEnd);\r\n    }\r\n    if (text) {\r\n      chars(text); //处理文本\r\n      advance(text.length); //前进\r\n      break;\r\n    }\r\n  }\r\n}\r\n//html字符串解析成 对应的脚本来触发\r\nexport function compileFunction(template) {\r\n  parserHTML(template);\r\n}\r\n","export function isFunction(val) {\r\n  return typeof val === \"function\";\r\n}\r\n\r\nexport function isObject(val) {\r\n  return typeof val !== \"object\" && val !== null;\r\n}\r\n","let oldArrayPrototype = Array.prototype;\r\nexport let arrayMethods = Object.create(oldArrayPrototype);\r\n//arrayMethods.__proto__=Array.prototype 继承\r\n\r\nlet methods = [\"push\", \"shift\", \"unshift\", \"pop\", \"reverse\", \"sort\", \"splice\"];\r\n\r\nmethods.forEach((method) => {\r\n  arrayMethods[method] = function (...args) {\r\n    //用户调用的如果是以上七个方法 会用我自己重写的，否则用原来的数组方法\r\n    //args是参数列表\r\n    //args是参数列表，arr.push(1,2,3)\r\n    const result = oldArrayPrototype[method].call(this, ...args);\r\n    let inserted;\r\n    let ob = this.__ob__;\r\n    switch (method) {\r\n      case \"push\":\r\n      case \"unshift\":\r\n        inserted = args; // 就是新增的内容\r\n      case \"splice\":\r\n        inserted = args.slice(2);\r\n      default:\r\n        break;\r\n    }\r\n\r\n    //如果有新增的内容要进行继续劫持，我需要观测数组的每一项，而不是数组\r\n    //更新操作...todo...\r\n    if (inserted) ob.observeArray(inserted);\r\n    return result;\r\n  };\r\n});\r\n","import { isObject } from \"../util\";\r\nimport { arrayMethods } from \"./array\";\r\n\r\n//1.如果数据是对象，会将对象不停的递归，进行劫持\r\n//2.如果是数组，会劫持数组的方法，并对数组中不是基本数据类型进行检测\r\nclass Observer {\r\n  constructor(data) {\r\n    //对对象中的所有属性 进行劫持\r\n    Object.defineProperty(data, \"__ob__\", {\r\n      value: this,\r\n      //  设为不可枚举，防止在forEach对每一项响应式的时候监控__ob__，造成死循环\r\n      enumerable: false, //不可枚举\r\n    });\r\n    // data.__ob__ = this;\r\n    if (Array.isArray(data)) {\r\n      // 数组劫持的逻辑\r\n      // 对数组原来的方法进行改写，切片编程 高级函数\r\n      data.__proto__ = arrayMethods;\r\n      //如果数组中的数据是对象类型，需要监控对象的变化\r\n      this.observeArray(data);\r\n    } else {\r\n      //对对象中的所有属性进行劫持\r\n      this.walk(data);\r\n    }\r\n  }\r\n  observeArray(data) {\r\n    data.forEach((item) => {\r\n      observe(item);\r\n    });\r\n  }\r\n  walk(data) {\r\n    //对象\r\n    Object.keys(data).forEach((key) => {\r\n      defineReactive(data, key, data[key]);\r\n    });\r\n  }\r\n}\r\n//vue2\r\nfunction defineReactive(data, key, value) {\r\n  //value有可能是对象\r\n  observe(value); //本身用户默认值是对象，对象套对象 需要递归处理(性能差)\r\n  Object.defineProperty(data, key, {\r\n    get() {\r\n      console.log(\"get\");\r\n      return value;\r\n    },\r\n    set(newV) {\r\n      console.log(\"set\");\r\n      observe(newV); //如果用户赋值是一个新对象，需要将这个对象进行劫持\r\n      value = newV;\r\n    },\r\n  });\r\n}\r\nexport function observe(data) {\r\n  //如果是对象才观察\r\n  if (!isObject(data)) {\r\n    return;\r\n  }\r\n  if (data.__ob__) {\r\n    //已经被观测不需要再观测\r\n    return;\r\n  }\r\n  //默认最外层的data必须是一个对象\r\n  return new Observer(data);\r\n}\r\n","import { isFunction } from \"./util\";\r\nimport { observe } from \"./observe/index\";\r\n\r\nexport function initState(vm) {\r\n  const opts = vm.$options;\r\n  if (opts.data) {\r\n    initData(vm);\r\n  }\r\n  if (opts.props) {\r\n    initProps();\r\n  }\r\n  if (opts.computed) {\r\n    initComputed();\r\n  }\r\n  if (opts.watch) {\r\n  }\r\n}\r\n\r\nfunction proxy(vm, source, key) {\r\n  Object.defineProperty(vm, key, {\r\n    get() {\r\n      return vm[source][key];\r\n    },\r\n    set(newValue) {\r\n      vm[source][key] = newValue;\r\n    },\r\n  });\r\n}\r\n\r\nfunction initData(vm) {\r\n  let data = vm.$options.data;\r\n  // console.log(data);\r\n  data = vm._data = isFunction(data) ? data.call(vm) : data;\r\n\r\n  //取数据，取的是代理数据\r\n  for (let key in data) {\r\n    proxy(vm, \"_data\", key);\r\n  }\r\n  //监视数据\r\n  observe(data);\r\n}\r\n","import { compileFunction } from \"./complier/index\";\r\nimport { initState } from \"./state\";\r\nexport function initMixin(Vue) {\r\n  Vue.prototype._init = function (options) {\r\n    //el,data\r\n    let vm = this;\r\n    vm.$options = options;\r\n    console.log(vm);\r\n\r\n    //对数据做初始化 watch computed props data\r\n    initState(vm);\r\n\r\n    if (vm.$options.el) {\r\n      //将数据挂载到模板上\r\n      vm.$mount(vm.$options.el);\r\n    }\r\n  };\r\n\r\n  Vue.prototype.$mount = function (el) {\r\n    el = document.querySelector(el);\r\n    const vm = this;\r\n    const options = vm.$options;\r\n    //把模板转化成对应的渲染函数=》虚拟dom概念：vnode=》diff算法 更新虚拟dom=》产生真实节点，更新\r\n    if (!options.render) {\r\n      //没有render用template，目前没render\r\n      let template = options.template;\r\n      if (!template && el) {\r\n        //用户也没有传递template 就取el的内容作为template\r\n        template = el.outerHTML;\r\n        console.log(template);\r\n        //把模板变成渲染函数，render返回h\r\n        let render = compileFunction(template);\r\n        options.render = render;\r\n      }\r\n    }\r\n  };\r\n}\r\n","import { initMixin } from \"./init\";\r\nfunction Vue(options) {\r\n  this._init(options);\r\n}\r\ninitMixin(Vue);\r\n\r\nexport default Vue;\r\n"],"names":["ncname","qnameCapture","startTagOpen","RegExp","startTagClose","endTag","attribute","start","tagName","attributes","end","parserHTML","html","advance","len","substring","parseStartTag","match","attrs","length","console","log","attr","push","name","value","textEnd","indexOf","startTagMatch","endTagMatch","text","compileFunction","template","isFunction","val","isObject","oldArrayPrototype","Array","prototype","arrayMethods","Object","create","methods","forEach","method","args","result","call","inserted","ob","__ob__","slice","observeArray","Observer","data","defineProperty","enumerable","isArray","__proto__","walk","item","observe","keys","key","defineReactive","get","set","newV","initState","vm","opts","$options","initData","props","initProps","computed","initComputed","watch","proxy","source","newValue","_data","initMixin","Vue","_init","options","el","$mount","document","querySelector","render","outerHTML"],"mappings":"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"}